[短链有啥好处，为啥要设计它，用长链不香吗](#短链好处)
[短链跳转的基本原理](#短链跳转的基本原理)
[短链生成的几种方法](#短链生成的方法)
[短链的架构支撑](#短链的架构支撑)





## 短链好处
1、链接变短，在对内容长度有限制的平台发文，可编辑的文字就变多了  
2、我们经常需要将链接转成二维码的形式分享给他人，如果是长链的话二维码密集难识别，短链就不存在这个问题了  
3、链接太长在有些平台上无法自动识别为超链接  
  
  

 
## 短链跳转的基本原理
使用302重定向，主要步骤就是访问短网址后重定向访问长链接B


这里需要注意一下 301 和 302 的区别

- 301，代表 永久重定向，也就是说第一次请求拿到长链接后，下次浏览器再去请求短链的话，不会向短网址服务器请求了，而是直接从浏览器的缓存里拿，这样在 server 层面就无法获取到短网址的点击数了，如果这个链接刚好是某个活动的链接，也就无法分析此活动的效果。所以我们一般不采用 301。
- 302，代表 临时重定向，也就是说每次去请求短链都会去请求短网址服务器（除非响应中用 Cache-Control 或 Expired 暗示浏览器缓存）,这样就便于 server 统计点击数，所以虽然用 302 会给 server 增加一点压力，但在数据异常重要的今天，这点代码是值得的，所以推荐使用 302！




## 短链生成的方法
1、哈希算法  
    能够满足这样的哈希算法有很多，这里推荐 Google 出品的 MurmurHash 算法，MurmurHash 是一种非加密型哈希函数，适用于一般的哈希检索操作。  
    MurmurHash 提供了两种长度的哈希值，32 bit，128 bit，为了让网址尽可通地短，我们选择 32 bit 的哈希值，32 bit 能表示的最大值近 43 亿，对于中小型公司的业务而言绰绰有余  
   
   与其它流行的哈希函数相比，对于规律性较强的 key，MurmurHash 的随机分布特征表现更良好。非加密意味着着相比 MD5，SHA 这些函数它的性能肯定更高（实际上性能是 MD5 等加密算法的十倍以上），也正是由于它的这些优点，所以虽然它出现于 2008，但目前已经广泛应用到 Redis、MemCache、Cassandra、HBase、Lucene 等众多著名的软件中。

2、自增序列算法  



## 短链的架构支撑






参考  
https://juejin.im/post/6844904090602848270  



